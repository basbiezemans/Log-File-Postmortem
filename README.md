# Log File Postmortem

Fun programming exercise for learning Haskell.

[Analyzing a messy log file][1]

## Synopsis

We’re really not sure what happened, but we did manage to recover
the log file *error.log*. It seems to consist of a different log
message on each line.

Unfortunately, due to the error messages being generated by multiple
servers in multiple locations around the globe, a lightning storm, a
failed disk, and a bored yet incompetent programmer, the log messages
are horribly out of order. Until we do some organizing, there will be
no way to make sense of what went wrong!

It’s all quite confusing; clearly we need a program to sort through
this mess.

## Docker

If you have Docker installed then you can create a container that will run `LogAnalysis.hs` in [GHCi][2].

```bash
$ docker build -t log-analysis
$ docker run -it log-analysis
```

Use `:quit` to leave GHCi.

## What went wrong?

You can run the following commands in [GHCi][2]. The Docker container runs the first command for you.

```bash
$ Prelude> :load LogAnalysis.hs
$ LogAnalysis> testWhatWentWrong parse whatWentWrong "sample.log"
```

Output:

```
[ "Way too many pickles"
, "Bad pickle-flange interaction detected"
, "Flange failed!"
]
```

[1]: http://www.cis.upenn.edu/~cis194/spring13/hw/02-ADTs.pdf	"Source"
[2]: https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/ghci.html	"User Guide"

